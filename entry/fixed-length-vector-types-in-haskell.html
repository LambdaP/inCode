<!DOCTYPE HTML>
<html><head><title>Fixed-Length Vector Types in Haskell (an Update for 2017) · in Code</title><meta name="description" content="Weblog of Justin Le, covering his various adventures in programming and explorations in the vast worlds of computation physics, and knowledge."><meta http-equiv="Content-Type" content="text/html;charset=utf-8"><meta name="viewport" content="width=device-width,initial-scale=1.0"><meta property="og:site_name" content="in Code"><meta property="og:description" content="This post is a follow-up to my fixed-length vectors in haskell in 2015 post! When I was writing the post originally, I was new to the whole type-level game in Haskell; I didn’t know what I was talking about, and that post was a way for me to push myself to learn more. Immediately after it was posted, people taught me where I went wrong in the idioms I explained, and better and more idiomatic ways to do things. Unfortunately, I have noticed people referring to the post in a canonical/authoritative way…so the post became an immediate regret to me. I tried correcting things with my practical dependent types in haskell series the next year, which incorporated what I had learned. But I still saw my 2015 post being used as a reference, so I figured that writing a direct replacement/follow-up as the only way I would ever fix this! So here we are in 2017. What’s the right way to do fixed-length vectors in Haskell?"><meta property="og:type" content="article"><meta property="og:title" content="Fixed-Length Vector Types in Haskell (an Update for 2017)"><meta property="og:image" content="https://blog.jle.im/img/site_logo.jpg"><meta property="og:locale" content="en_US"><meta property="og:url" content="https://blog.jle.im/entry/fixed-length-vector-types-in-haskell.html"><meta name="twitter:card" content="summary"><meta name="twitter:creator:id" content="mstk"><link rel="author" href="https://plus.google.com/107705320197444500140"><link rel="alternate" type="application/rss+xml" title="in Code (RSS Feed)" href="http://feeds.feedburner.com/incodeblog"><link rel="canonical" href="https://blog.jle.im/entry/fixed-length-vector-types-in-haskell.html"><link href="https://blog.jle.im/favicon.ico" rel="shortcut icon"><link href="https://blog.jle.im/css/toast.css" rel="stylesheet" type="text/css"><link href="https://blog.jle.im/css/font.css" rel="stylesheet" type="text/css"><link href="https://blog.jle.im/css/main.css" rel="stylesheet" type="text/css"><link href="https://blog.jle.im/css/page/entry.css" rel="stylesheet" type="text/css"><link href="https://blog.jle.im/css/pygments.css" rel="stylesheet" type="text/css"><script type="text/javascript">var page_data = {};
var disqus_shortname='incode';
</script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-443711-8', 'jle.im');
ga('send', 'pageview');
</script><script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script><script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5234d67a6b68dcd4"></script><script type="text/javascript" src="https://blog.jle.im/js/page/entry_toc.js"></script><script type="text/javascript" src="https://blog.jle.im/js/disqus_count.js"></script><script type="text/javascript" src="https://blog.jle.im/js/social.js"></script><script type="text/javascript" src="https://blog.jle.im/js/jquery/jquery.toc.js"></script><script type="text/javascript" src="https://blog.jle.im/purescript/entry.js"></script></head><body><div id="fb-root"><script>(function(d, s, id) {
 var js, fjs = d.getElementsByTagName(s)[0];
 if (d.getElementById(id)) return;
 js = d.createElement(s); js.id = id;
 js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=641852699171929";
 fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));
</script></div><div id="header-container"><div id="navbar-container" class="tile"><nav id="navbar-content"><div class="nav-info"><h1 class="site-title"><a href="https://blog.jle.im/" class="nav-title">in Code</a></h1><span class="nav-author">Justin Le</span></div><ul class="nav-links"><li><a href="https://blog.jle.im/">home</a></li><li><a href="https://blog.jle.im/entries.html">archives</a></li><div class="clear"></div></ul></nav></div><div id="header-content"></div></div><div id="body-container" class="container"><div id="main-container" class="grid"><div class="entry-section unit span-grid" role="main"><article class="tile article"><header><div class="unposted-banner">Unposted entry</div><h1 id="title">Fixed-Length Vector Types in Haskell (an Update for 2017)</h1><p class="entry-info">by <a class="author" href="https://blog.jle.im/">Justin Le</a></p><p><span class="source-info"><a class="source-link" href="https://github.com/mstksg/inCode/tree/master/copy/entries/fixvec-2.md">Source</a><span class="info-separator"> &diams; </span><a class="source-link" href="https://github.com/mstksg/inCode/tree/gh-pages/entry/fixed-length-vector-types-in-haskell.md">Markdown</a><span class="info-separator"> &diams; </span><a class="source-link" href="https://blog.jle.im/entry/fixed-length-vector-types-in-haskell.tex">LaTeX</a><span class="info-separator"> &diams; </span></span>Posted in <a href="https://blog.jle.im/entries/category/@haskell.html" class="tag-a-category" title="Functional, pure, non-strict, statically and strongly typed, natively
compiled…really just the king of great languages.">Haskell</a>, <a href="https://blog.jle.im/entries/category/@reference.html" class="tag-a-category" title="@REFERENCE">Reference</a>, <a href="https://blog.jle.im/entries/category/@tutorials.html" class="tag-a-category" title="Technical tutorials/walkthroughs on specific programming processes and problems
that I’ve struggled through in the past.">Tutorials</a><span class="info-separator"> &diams; </span><a class="comment-link" href="#disqus_thread">Comments</a></p></header><hr><aside class="contents-container"><h5 id="contents-header">Contents</h5><div id="toc"></div></aside><div class="main-content copy-content"><p>This post is a follow-up to my <a href="https://blog.jle.im/entry/fixed-length-vector-types-in-haskell-2015.html">fixed-length vectors in haskell in 2015</a> post! When I was writing the post originally, I was new to the whole type-level game in Haskell; I didn’t know what I was talking about, and that post was a way for me to push myself to learn more.</p>
<p>Immediately after it was posted, people taught me where I went wrong in the idioms I explained, and better and more idiomatic ways to do things. Unfortunately, I have noticed people referring to the post in a canonical/authoritative way…so the post became an immediate regret to me. I tried correcting things with my <a href="https://blog.jle.im/entries/series/+practical-dependent-types-in-haskell.html">practical dependent types in haskell</a> series the next year, which incorporated what I had learned. But I still saw my 2015 post being used as a reference, so I figured that writing a direct replacement/follow-up as the only way I would ever fix this!</p>
<p>So here we are in 2017. What’s the “right” way to do fixed-length vectors in Haskell?</p>
<h2 id="as-a-wrapper-with-smart-constructors">As a Wrapper with Smart Constructors</h2>
<p>In most situations, if you use vectors, you want some sort of constant-time indexed data structure. The best way to do this in Haskell is to wrap the heavily optimized <em><a href="http://hackage.haskell.org/package/vector">vector</a></em> library with a newtype wrapper that contains its length as a phantom type parameter.</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="kw">import qualified</span> <span class="dt">Data.Vector</span> <span class="kw">as</span> <span class="dt">V</span>

<span class="kw">data</span> <span class="dt">Vec</span> (<span class="ot">n ::</span> <span class="dt">Nat</span>) a <span class="fu">=</span> <span class="dt">UnsafeMkVec</span> {<span class="ot"> getVector ::</span> <span class="dt">V.Vector</span> a }
    <span class="kw">deriving</span> <span class="dt">Show</span></code></pre></div>
<p>A <code>Vec n a</code> will represent an <code>n</code>-element vector of <code>a</code>s. So, a <code>Vec 5 Int</code> will be a vector of five <code>Int</code>s, a <code>Vec 10 String</code> is a vector of 10 <code>String</code>s, etc.</p>
<p>For our numeric types, we’re using the fancy “type literals” that GHC offers us with the <code>DataKinds</code> extension. Basically, alongside the normal kinds <code>*</code>, <code>* -&gt; *</code>, etc., we also have the <code>Nat</code> kind; type literals <code>1</code>, <code>5</code>, <code>100</code>, etc. are all <em>types</em> with the <em>kind</em> <code>Nat</code>.</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">ghci<span class="fu">&gt;</span> <span class="fu">:</span>k <span class="dv">5</span>
<span class="dt">Nat</span>
ghci<span class="fu">&gt;</span> <span class="fu">:</span>k <span class="dt">Vec</span>
<span class="dt">Vec</span><span class="ot"> ::</span> <span class="dt">Nat</span> <span class="ot">-&gt;</span> <span class="fu">*</span> <span class="ot">-&gt;</span> <span class="fu">*</span></code></pre></div>
<p>You can “reflect” the type-level numeral as a value using the <code>KnownNat</code> typeclass, provided by GHC, which lets you gain back the number as a run-time value using <code>natVal</code>:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">natVal ::</span> <span class="dt">KnownNat</span> n <span class="ot">=&gt;</span> p n <span class="ot">-&gt;</span> <span class="dt">Integer</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">ghci<span class="fu">&gt;</span> natVal (<span class="dt">Proxy</span> <span class="fu">@</span><span class="dv">10</span>)   <span class="co">-- or, natVal (Proxy :: Proxy 10)</span>
<span class="dv">10</span>
ghci<span class="fu">&gt;</span> natVal (<span class="dt">Proxy</span> <span class="fu">@</span><span class="dv">7</span>)
<span class="dv">7</span></code></pre></div>
<h3 id="the-smart-constructor">The Smart Constructor</h3>
<p>We can use <code>natVal</code> with the <code>KnownNat</code> typeclass to write a “smart constructor” for our type – make a <code>Vec</code> from a <code>Vector</code>, but only if the length is the correct type:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">mkVec ::</span> forall n<span class="fu">.</span> <span class="dt">KnownNat</span> n <span class="ot">=&gt;</span> <span class="dt">V.Vector</span> a <span class="ot">-&gt;</span> <span class="dt">Maybe</span> (<span class="dt">Vec</span> n a)
mkVec v <span class="fu">|</span> V.length v <span class="fu">==</span> l <span class="fu">=</span> <span class="dt">Just</span> (<span class="dt">UnsafeMkVec</span> v)
        <span class="fu">|</span> otherwise       <span class="fu">=</span> <span class="dt">Nothing</span>
  <span class="kw">where</span>
    l <span class="fu">=</span> natVal (<span class="dt">Proxy</span> <span class="fu">@</span>n)</code></pre></div>
<p>Here, we use <code>ScopedTypeVariables</code> so we can refer to the <code>n</code> in the type signature in the function body (for <code>natVal (Proxy @n)</code>). We need to use an explicit forall, then, to bring the <code>n</code> into scope.</p>
<h3 id="indexing">Indexing</h3>
<p>We need an appropriate type for indexing these, but we’d like a type where indexing is “safe” – that is, that you can’t compile a program that will result in an index error.</p>
<p>For this, we can use the <em><a href="http://hackage.haskell.org/package/finite-typelits">finite-typelits</a></em> package, which provides the <code>Finite n</code> type.</p>
<p>A <code>Finite n</code> type is a type with exactly <code>n</code> distinct inhabitants/values. For example, <code>Finite 4</code> contains four “anonymous” inhabitants. For convenience, sometimes we like to name them 0, 1, 2, and 3. In general, we sometimes refer to the values of type <code>Finite n</code> as 0 … (n - 1).</p>
<p>So, we can imagine that <code>Finite 6</code> has inhabitants corresponding to 0, 1, 2, 3, 4, and 5. We can convert back and forth between a <code>Finite n</code> and its <code>Integer</code> representation using <code>packFinite</code> and <code>getFinite</code>:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">packFinite ::</span> <span class="dt">KnownNat</span> n <span class="ot">=&gt;</span> <span class="dt">Integer</span>  <span class="ot">-&gt;</span> <span class="dt">Maybe</span> (<span class="dt">Finite</span> n)
<span class="ot">getFinite  ::</span>               <span class="dt">Finite</span> n <span class="ot">-&gt;</span> <span class="dt">Integer</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">ghci<span class="fu">&gt;</span> map packFinite [<span class="dv">0</span><span class="fu">..</span><span class="dv">3</span>]<span class="ot"> ::</span> [<span class="dt">Finite</span> <span class="dv">3</span>]
[<span class="dt">Just</span> (finite <span class="dv">0</span>), <span class="dt">Just</span> (finite <span class="dv">1</span>), <span class="dt">Just</span> (finite <span class="dv">2</span>), <span class="dt">Nothing</span>]
ghci<span class="fu">&gt;</span> getFinite (finite <span class="dv">2</span><span class="ot"> ::</span> <span class="dt">Finite</span> <span class="dv">5</span>)
<span class="dv">2</span></code></pre></div>
<p>We can use a <code>Finite n</code> to “index” a <code>Vector n a</code>. A <code>Vector n a</code> has exactly <code>n</code> slots, and a <code>Finite n</code> has <code>n</code> possible values. Clearly, <code>Finite n</code> only contains valid indices into our vector!</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">index<span class="ot"> ::</span> <span class="dt">Vec</span> n a <span class="ot">-&gt;</span> <span class="dt">Finite</span> n <span class="ot">-&gt;</span> a
index v i <span class="fu">=</span> getVector v <span class="fu">V.!</span> fromIntegral (getFinite i)</code></pre></div>
<p><code>index</code> will never fail at runtime due to a bad index — do you see why? Valid indices of a <code>Vector 5 a</code> are the integers 0 to 4, and that is precisely the exact things that <code>Finite 5</code> can store!</p>
<h3 id="appending-and-type-level-arithmetic">Appending and type-level arithmetic</h3>
<p>Another operation we might want to do with vectors is append them and do things with them that might change their length. We might want the type of our vectors to describe the nature of the operations they are undergoing. For example, if you saw a function:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">someFunc ::</span> <span class="dt">Vec</span> n a <span class="ot">-&gt;</span> <span class="dt">Vec</span> m a <span class="ot">-&gt;</span> <span class="dt">Vec</span> (n <span class="fu">+</span> m) a</code></pre></div>
<p>You can see that it takes a vector of length <code>n</code> and a vector of length <code>m</code>, and returns a vector of length <code>n + m</code>. Clearly, this function must be appending/concatenating the two input vectors!</p>
<p>In this situation, we can write such an appending function in an “unsafe” way, and then give it our type signature as a form of documentation.</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">append ::</span> <span class="dt">Vec</span> n a <span class="ot">-&gt;</span> <span class="dt">Vec</span> m a <span class="ot">-&gt;</span> <span class="dt">Vec</span> (n <span class="fu">+</span> m) a
append v w <span class="fu">=</span> <span class="dt">UnsafeMkVec</span> <span class="fu">$</span> getVector v <span class="fu">V.++</span> getVector w</code></pre></div>
<p>The compiler didn’t help us write this function, and we have to be pretty careful that the guarantees we specify in our types are reflected in the actual unsafe operations. This is because our types don’t <em>structurally</em> enforce their type-level lengths.</p>
<p>So, why bother? For us, here, our fixed-length vector types basically act as “active documentation”, in a way. Compare:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="co">-- | Appends a vector of length n with a vector of length m to get a vector of</span>
length (n <span class="fu">+</span> m)<span class="fu">.</span>
<span class="ot">append ::</span> <span class="dt">V.Vector</span> a <span class="ot">-&gt;</span> <span class="dt">V.Vector</span> a <span class="ot">-&gt;</span> <span class="dt">V.Vector</span> a</code></pre></div>
<p>We have to rely on the documentation to <em>tell</em> us what the length of the final resulting vector is, even though it can be known statically if you know the length of the input vectors. The vectors have a <em>static relationship</em> in their length, but this isn’t specified in a way that the compiler can take advantage of.</p>
<p>By having our <code>append :: Vec n a -&gt; Vec m a -&gt; Vec (n + m) a</code>, the relationship between the input lengths and output length is right there in the types, when you <em>use</em> <code>append</code>, GHC is aware of the relationships and can give you help in the form of typed hole suggestions and informative type errors. You can even catch errors in logic at compile-time instead of runtime!</p>
<p>Here, <code>(+)</code> comes from GHC, which provides it as a type family (type-level function) we can use, with proper meaning and semantics.</p>
<p>Some other examples include:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="co">-- the end vector has the same length as the starting vector</span>
map<span class="ot"> ::</span> (a <span class="ot">-&gt;</span> b) <span class="ot">-&gt;</span> <span class="dt">Vec</span> n a <span class="ot">-&gt;</span> <span class="dt">Vec</span> n b
<span class="co">-- you must zip two vectors of the same length</span>
zip<span class="ot"> ::</span> <span class="dt">Vec</span> n a <span class="ot">-&gt;</span> <span class="dt">Vec</span> n b <span class="ot">-&gt;</span> <span class="dt">Vec</span> n (a, b)
<span class="co">-- type-level arithmetic to let us &#39;take&#39;</span>
take<span class="ot"> ::</span> <span class="dt">Vec</span> (n <span class="fu">+</span> m) a <span class="ot">-&gt;</span> <span class="dt">Vec</span> n a
<span class="co">-- splitAt, as well</span>
splitAt<span class="ot"> ::</span> <span class="dt">Vec</span> (n <span class="fu">+</span> m) a <span class="ot">-&gt;</span> (<span class="dt">Vec</span> n a, <span class="dt">Vec</span> m a)</code></pre></div>
<h3 id="generating">Generating</h3>
<p>We can directly generate these vectors in interesting ways. Using return-type polymorphism, we can have the user <em>directly</em> request a vector length, <em>just</em> by using type inference or a type annotation. (kind of like <code>read</code>)</p>
<p>For example, we can write a version of <code>replicate</code>:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">replicate<span class="ot"> ::</span> forall n a<span class="fu">.</span> <span class="dt">KnownNat</span> n <span class="ot">=&gt;</span> a <span class="ot">-&gt;</span> <span class="dt">Vec</span> n a
replicate x <span class="fu">=</span> <span class="dt">UnsafeMkVec</span> <span class="fu">$</span> V.replicate l x
  <span class="kw">where</span>
    l <span class="fu">=</span> fromIntegral <span class="fu">$</span> natVal (<span class="dt">Proxy</span> <span class="fu">@</span>n)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">ghci<span class="fu">&gt;</span> replicate <span class="ch">&#39;a&#39;</span><span class="ot"> ::</span> <span class="dt">Vec</span> <span class="dv">5</span> <span class="dt">Char</span>
<span class="dt">UnsafeMkVec</span> (V.fromList [<span class="ch">&#39;a&#39;</span>,<span class="ch">&#39;a&#39;</span>,<span class="ch">&#39;a&#39;</span>,<span class="ch">&#39;a&#39;</span>,<span class="ch">&#39;a&#39;</span>])</code></pre></div>
<p>Note that normally, <code>replicate</code> takes an <code>Int</code> argument so that the user can give how long the resulting vector needs to be. However, with our new <code>replicate</code>, we don’t need that <code>Int</code> argument — the size of the vector we want can more often than not be inferred automatigically using type inference!</p>
<p>With this new cleaner type signature, we can actually see that <code>replicate</code>’s type is something very similar. Look at it carefuly:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">replicate<span class="ot"> ::</span> <span class="dt">KnownNat</span> n <span class="ot">=&gt;</span> a <span class="ot">-&gt;</span> <span class="dt">Vec</span> n a</code></pre></div>
<p>You might recognize it as the haskellism <code>pure</code>:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">pure<span class="ot"> ::</span> <span class="dt">Applicative</span> f <span class="ot">=&gt;</span> a <span class="ot">-&gt;</span> f a</code></pre></div>
<p><code>replicate</code> is actually <code>pure</code> for the Applicative instance of <code>Vec n</code>! As an extra challenge, what would <code>&lt;*&gt;</code> be?</p>
<h4 id="generating-with-indices">Generating with indices</h4>
<p>We can be a little more fancy with <code>replicate</code>, to get what we normally call <code>generate</code>:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">generate ::</span> forall n<span class="fu">.</span> <span class="dt">KnownNat</span> n <span class="ot">=&gt;</span> (<span class="dt">Finite</span> n <span class="ot">-&gt;</span> a) <span class="ot">-&gt;</span> <span class="dt">Vec</span> n a
generate f <span class="fu">=</span> <span class="dt">UnsafeMkVec</span> <span class="fu">$</span> V.generate l (f <span class="fu">.</span> finite)
  <span class="kw">where</span>
    l <span class="fu">=</span> fromIntegral <span class="fu">$</span> natVal (<span class="dt">Proxy</span> <span class="fu">@</span>n)</code></pre></div>
<h4 id="a-discussion-on-the-advantages-of-type-safety">A discussion on the advantages of type-safety</h4>
<p>I think it’s an interesting point that we’re using <code>Finite n</code> in a different sense here than in <code>index</code>, for different reasons. In <code>index</code>, <code>Finite</code> is in the “negative” position — it’s something that the function “takes”. In <code>generate</code>, <code>Finite</code> is in the “positive” position — it’s something that the function “gives” (to the <code>f</code> in <code>generate f</code>).</p>
<p>In the negative position, <code>Finite n</code> and type-safety is useful because:</p>
<ol type="1">
<li>It tells the user what sort of values that the function expects. The user <em>knows</em>, just from the type, that indexing a <code>Vec 5 a</code> requires a <code>Finite 5</code>, or a number between 0 and 4.</li>
<li>It guarantees that whatever <code>Finite n</code> index you give to <code>index</code> is a <em>valid one</em>. It’s impossible to give <code>index</code> an “invalid index”, so <code>index</code> is allowed to use “unsafe indexing” in its implementation, knowing that nothing bad can be given.</li>
<li>It lets you develop code in “typed-hole” style: if a function requires a <code>Finite 4</code>, put an underscore there, and GHC will tell you about all the <code>Finite 4</code>s you have in scope. It can help you write your code for you!</li>
</ol>
<p>In the positive position, <code>Finite n</code> and the type-safety have different uses and advantages: it tells the user what sort of values the function can return, and also also the type of values that the user has to be expected to handle. For example, in <code>generate</code>, the fact that the user has to provide a <code>Finite n -&gt; a</code> tells the user that they have to handle every number between 0 and n-1, and nothing else.</p>
<h3 id="between-static-and-dynamic">Between Static and Dynamic</h3>
<p>So</p></div><footer><ul class="entry-series"></ul><ul class="tag-list"><li><a href="https://blog.jle.im/entries/tagged/haskell.html" class="tag-a-tag">#haskell</a></li><li><a href="https://blog.jle.im/entries/tagged/types.html" class="tag-a-tag">#types</a></li><li><a href="https://blog.jle.im/entries/category/@haskell.html" class="tag-a-category">@HASKELL</a></li><li><a href="https://blog.jle.im/entries/category/@reference.html" class="tag-a-category">@REFERENCE</a></li><li><a href="https://blog.jle.im/entries/category/@tutorials.html" class="tag-a-category">@TUTORIALS</a></li></ul><aside class="social-buttons"><div class="addthis_toolbox addthis_default_style addthis-buttons"><a class="addthis_button_facebook_like" fb:like:layout="button_count"></a><a class="addthis_button_tweet"></a><a class="addthis_button_google_plusone" g:plusone:size="medium"></a><a class="addthis_counter addthis_pill_style"></a></div><div class="custom-social-buttons"><div class="custom-social-button"><a href="https://www.reddit.com/submit" onclick="window.location = &#39;https://www.reddit.com/submit?url=&#39;+ encodeURIComponent(window.location); return false"><img src="https://www.reddit.com/static/spreddit7.gif" alt="submit to reddit"></a></div></div></aside><nav class="next-prev-links"><ul><li class="next-entry-link">(Next) <a href="https://blog.jle.im/entry/introducing-in-code.html">Introducing “in Code”!</a> &rarr;</li></ul></nav></footer></article><div class="post-entry"><div class="tile"><div id="disqus_thread"></div><script type="text/javascript">var disqus_config = function () {
    this.page.url = 'https://blog.jle.im/entry/fixed-length-vector-types-in-haskell.html';
    this.page.identifier = 'fixvec-2';
};
(function() {
    var d = document, s = d.createElement('script');
    s.src = '//incode.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
})();
</script><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a><br></noscript><a href="http://disqus.com" class="dsq-brlink">Comments powered by <span class="logo-disqus">Disqus</span></a></div></div></div></div></div><div id="footer-container"><div id="footer-content"><div class="tile"><div class="footer-copyright">&copy; 2016 Justin Le</div><div class="footer-follow social-follows"><ul class="social-follows-list"><li><ul class="social-follows-list-social"><li><a class="social-follow-twitter" title="Follow me on Twitter!" href="https://twitter.com/intent/user?user_id=mstk" onclick="window.open(
  &#39;http://twitter.com/intent/user?user_id=907281&#39;,
  &#39;facebook-share-dialog&#39;,
  &#39;width=550,height=520&#39;);
return false;
">Twitter</a></li><li><a class="social-follow-gplus" title="Add me on Google+!" href="https://plus.google.com/+JustinLe">Google+</a></li><li><a class="social-follow-linkedin" title="Connect with me on LinkedIn!" href="https://linkedin.com/in/lejustin">LinkedIn</a></li><li><a class="social-follow-github" title="Fork me on Github!" href="https://github.com/mstksg">Github</a></li><li><a class="social-follow-keybase" title="Track me on Keybase!" href="https://keybase.io/mstksg">Keybase</a></li><li><a class="social-follow-bitcoin" title="Donate via bitcoin!" href="https://coinbase.com/mstksg">Bitcoin</a></li></ul></li><li><ul class="social-follows-list-site"><li><a class="social-follow-rss" title="Subscribe to my RSS Feed!" href="http://feeds.feedburner.com/incodeblog">RSS</a></li><li><a class="social-follow-email" title="Subscribe to the mailing list!" href="https://feedburner.google.com/fb/a/mailverify?loc=en_US&amp;uri=incodeblog">Mailing list</a></li></ul></li></ul></div></div></div></div></body></html>